# AdaptEgo 自适应无人机规划系统配置文件
# 集成EGO-Planner与深度学习的自适应权重预测系统

[SYSTEM]
# 项目基本信息
project_name = AdaptEgo - Adaptive EGO-Planner
version = 2.0.0
author = ZJU-FAST-Lab Enhanced
description = 基于深度学习的自适应EGO-Planner无人机规划系统

# 路径配置
workspace_path = /home/kklab/AdaptEgo
project_path = /home/kklab/AdaptEgo
data_path = data/
models_path = models/
results_path = results/
logs_path = logs/

[SIMULATION]
# 仿真环境设置
max_velocity = 2.5
max_acceleration = 5.0
drone_radius = 0.3
sensing_horizon = 6.0
sensing_rate = 30.0
control_frequency = 50.0

# 地图设置  
map_size_x = 20.0
map_size_y = 20.0
map_size_z = 5.0
obstacle_density = 0.15
min_obstacle_size = 0.8
max_obstacle_size = 2.5

[TRAINING]
# 神经网络配置
input_dim = 12
hidden_dim = 128
output_dim = 6
num_layers = 3
dropout_rate = 0.2

# 训练参数
batch_size = 64
learning_rate = 0.001
num_epochs = 200
validation_split = 0.2
early_stopping_patience = 20

# 数据配置
expert_data_file = expert_demonstrations.npz
min_expert_samples = 1000
success_threshold = 0.85
normalize_inputs = true
augment_data = true

[ADAPTIVE_WEIGHTS]
# EGO-Planner权重配置
# w_smooth: 轨迹平滑权重 [0.5, 2.0]
w_smooth_min = 0.5
w_smooth_max = 2.0
w_smooth_default = 1.0

# w_collision: 避障权重 [3.0, 12.0]  
w_collision_min = 3.0
w_collision_max = 12.0
w_collision_default = 6.0

# w_time: 时间优化权重 [0.1, 1.5]
w_time_min = 0.1
w_time_max = 1.5
w_time_default = 0.8

# corridor_width: 走廊宽度 [0.4, 1.5]
corridor_width_min = 0.4
corridor_width_max = 1.5
corridor_width_default = 1.0

# max_velocity: 最大速度 [0.5, 3.0]
max_velocity_min = 0.5
max_velocity_max = 3.0
max_velocity_default = 2.0

# replan_freq: 重规划频率 [8.0, 30.0]
replan_freq_min = 8.0
replan_freq_max = 30.0  
replan_freq_default = 15.0

[STATE_FEATURES]
# 状态特征配置
use_position = true
use_goal_position = true  
use_obstacle_density = true
use_average_clearance = true
use_current_speed = true
use_goal_distance = true
use_environment_complexity = true
use_battery_level = true

# 特征归一化范围
position_range = [-10.0, 10.0]
obstacle_density_range = [0.0, 0.5]
clearance_range = [0.5, 3.0]
speed_range = [0.0, 3.0]
distance_range = [0.0, 15.0]
complexity_range = [0.0, 3.0]
battery_range = [0.3, 1.0]

[EVALUATION]
# 性能评估配置
num_test_episodes = 100
test_maps = ["random", "dense", "sparse", "corridor", "forest"]
success_criteria = ["reach_goal", "no_collision", "time_limit"]
timeout_seconds = 60.0

# 评估指标
track_success_rate = true
track_completion_time = true
track_path_length = true
track_smoothness = true
track_collision_count = true
track_energy_consumption = true

[LOGGING]
# 日志配置
log_level = INFO
log_to_console = true
log_to_file = true
log_file_path = logs/system.log
max_log_size_mb = 100

# 训练日志
save_training_plots = true
plot_loss_curves = true
plot_weight_predictions = true
tensorboard_logging = true

[ROS]
# ROS话题配置
odom_topic = /drone_0_visual_slam/odom
goal_topic = /move_base_simple/goal
map_topic = /map
weights_topic = /drone_0_adaptive_planning/weights
state_topic = /drone_0_adaptive_planning/state

# ROS参数
queue_size = 10
publish_rate = 20.0
transform_timeout = 1.0

[EXPERT_SYSTEM]
# 专家系统配置（用于数据收集）
use_expert_system = true
expert_planner = ego_planner
expert_weights_strategy = heuristic
collect_failure_cases = true
save_trajectory_data = true

# 交互式数据收集
enable_manual_override = true
show_weight_sliders = true
save_user_adjustments = true
feedback_collection = true

[DEBUG]
# 调试配置
verbose_mode = false
save_debug_info = true
visualize_predictions = true
plot_state_features = true
save_intermediate_results = true

# 性能监控
monitor_computation_time = true
monitor_memory_usage = true
alert_slow_inference = true
max_inference_time_ms = 50.0
